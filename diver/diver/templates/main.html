{% extends 'base.html' %}
{% block content %}
  {% load staticfiles %}
  <div class="jumbotron">
    <div class="container">
      <h1>DIVER</h1>

      <p>추천은 저희가 해 드립니다. 그냥 다 입으세요. 다 입어.</p>
      <p><a href="#" role="button" class="btn btn-default btn-lg">Learn more</a></p>
    </div>
  </div>
  <div class="container">
    <div class="row">
      {% load item_filters %}
      {% for match in matches %}
        {% match_card match "col-lg-3 col-md-4 col-xs-6"%}
      {% endfor %}
    </div>
  </div>
{% endblock %}

{% block script %}
  <script>
    function like(id, score) {
      $.ajax({
        'method': 'get',
        'dataType': 'text',
        'url': '/like/'+id+'/'+score,
        'success': function(res){
          alert(res);
          location.reload();
        },
        'error': function(request,status,error){
          console.log("code:"+request.status+"\n"+"message:"+request.responseText+"\n"+"error:"+error);
        }
      });
    }
  </script>

  <script>
    function like_match(id, score) {
      $.ajax({
        'method': 'get',
        'dataType': 'text',
        'url': '/like_match/'+id+'/'+score,
        'success': function(res){
          alert(res);
          location.reload();
        },
        'error': function(request,status,error){
          console.log("code:"+request.status+"\n"+"message:"+request.responseText+"\n"+"error:"+error);
        }
      });
    }
  </script>
{% endblock %}
